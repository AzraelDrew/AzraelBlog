import{d as A,a as z,b as L,u as N,i as v,j as w,o,c as u,g as a,l as t,h as l,R as d,f as e,y,t as b,F as B,e as P,k as _,n as R,H as S,T as V,_ as D}from"./index-734f478a.js";import{T as p}from"./TheArtcileList-06656ef8.js";import{a as h,b as E,T as j}from"./TheNavBar-9c4d3f25.js";import"./TheButton-6961f5fb.js";const F={key:0},G={key:1},H={class:"profile flex"},J={class:"userInfo flex"},M={class:"flex flexJustifyStart"},U={class:"userName"},$={class:"flex flexJustifyStart"},q={class:"desc"},K={class:"articleList"},O={class:"flex"},Q={class:"flexDirectionRow"},W=A({__name:"Profile",setup(X){const C=z(),g=L(),s=N(),c=v([]),n=v(s.profileIndex),f=v([{label:"my",icon:"iconmy"},{label:"like",icon:"icondianzan"},{label:"favourite",icon:"iconshoucang5"}]);w(async()=>{let i=await m(s.userInfo.id,f.value[n.value].label);c.value=i.data.data});async function I(i){n.value=i,s.ChangeProfileIndex(i);let r=await m(s.userInfo.id,f.value[n.value].label);c.value=r.data.data}async function m(i,r){return await C({url:"/api/"+r+"/article/?id="+i,method:"GET"})}function T(){s.userLogout(),g.replace({name:"Home"})}return(i,r)=>(o(),u("div",null,[a(E,null,{avatarAndNickname:t(()=>[a(l(d),{to:"/",class:"link",href:""},{default:t(()=>[a(h,{class:"home icon linkColor",icon:"iconzhuye3",size:30})]),_:1})]),postIcon:t(()=>[a(l(d),{to:"/postArticle",class:"link linkColor postArticle"},{default:t(()=>[a(h,{icon:"iconbianji4",size:25})]),_:1})]),dropDown:t(()=>[l(s).isLogin?(o(),u("div",F,[e("a",{onClick:T,class:"link linkColor"}," 退出登录")])):(o(),u("div",G,[a(l(d),{class:"link linkColor",to:"/login"},{default:t(()=>[y("登录")]),_:1})]))]),_:1}),e("div",H,[e("div",J,[a(j,{size:200,src:l(s).userInfo.avatar},null,8,["src"]),e("div",null,[e("div",M,[e("h2",U,b(l(s).userInfo.name),1),a(l(d),{to:"/profileEditing",class:"flex link",href:""},{default:t(()=>[y(" 编辑个人信息")]),_:1})]),e("div",$,[e("pre",q,b(l(s).userInfo.desc||"添加你的简介....."),1)])])])]),e("div",K,[e("div",O,[(o(!0),u(B,null,P(f.value,(k,x)=>(o(),_(h,{class:R(["icon",{active:x==n.value}]),icon:k.icon,size:40,onClick:Y=>I(x)},null,8,["icon","class","onClick"]))),256))]),e("div",Q,[a(V,{name:"fade",appear:""},{default:t(()=>[n.value==0?(o(),_(p,{key:0,posts:c.value},null,8,["posts"])):n.value==1?(o(),_(p,{key:1,posts:c.value},null,8,["posts"])):n.value==2?(o(),_(p,{key:2,posts:c.value},null,8,["posts"])):S("",!0)]),_:1})])])]))}});const oe=D(W,[["__scopeId","data-v-8d15e2eb"]]);export{oe as default};
