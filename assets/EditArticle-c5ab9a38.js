import{d as V,b as g,G as b,u as k,a as w,i as u,j as y,r as _,o as A,k as B,l as C,f as r,g as s,T as E,_ as I}from"./index-12433a3f.js";import{T as v}from"./TheButton-a372b650.js";const T={class:"container"},U={class:"flex flexJustifySpaceBetween"},R={class:"flex flexJustifyEnd cancelPost"},S=V({__name:"EditArticle",setup(j){const i=g(),a=b(),c=k(),p=w(),o=u(""),n=u(""),d=u("");y(async()=>{console.log(a.params),console.log(i.currentRoute.value),console.log(a.params);let e=(await p({url:"api/article/?id="+a.params.id+"&userId="+c.userInfo.id,method:"GET"})).data;console.log("article",e),n.value=e.title,o.value=e.content,d.value=e.ddescribe});function f(){i.push({name:"ViewArticle",params:{id:a.params.id}})}async function h(){console.log(a.params.id);let t=new FormData;t.append("articleId",a.params.id),t.append("token",c.userInfo.token),t.append("title",n.value),t.append("describe",d.value),t.append("content",o.value),t.append("content",o.value);let e=await p.post("api/upadte/article/",t);console.log(e),i.push({name:"ViewArticle",params:{id:a.params.id}})}return(t,e)=>{const m=_("el-input"),x=_("v-md-editor");return A(),B(E,{name:"fade",appear:""},{default:C(()=>[r("div",T,[r("div",U,[s(m,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),class:"input",placeholder:"标题..."},null,8,["modelValue"]),s(m,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),class:"input",placeholder:"描述..."},null,8,["modelValue"])]),s(x,{class:"md","left-toolbar":"undo redo clear | h bold italic strikethrough quote | emoji todo-list | ul ol table hr | link image code | save",modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value=l),height:"70vh"},null,8,["modelValue"]),r("div",R,[s(v,{text:"取消",onClick:f,class:"button cancelButton"}),s(v,{text:"发布",onClick:h,class:"button"})])])]),_:1})}}});const N=I(S,[["__scopeId","data-v-47583416"]]);export{N as default};
