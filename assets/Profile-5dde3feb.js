import{d as w,a as L,b as z,u as N,i as _,j as B,r as R,o as a,c as f,g as s,l as o,h as t,R as d,k as u,f as e,x as y,t as b,F as S,e as V,n as D,C as E,T as P,_ as j}from"./index-12433a3f.js";import{T as p}from"./TheArtcileList-87a9129c.js";import{a as v,b as F,T as G}from"./TheNavBar-29ea6621.js";import"./TheButton-a372b650.js";const J={key:1},M={class:"profile flex"},U={class:"userInfo flex"},$={class:"flex flexJustifyStart"},q={class:"userName"},H={class:"flex flexJustifyStart"},K={class:"desc"},O={class:"articleList"},Q={class:"flex"},W={class:"flexDirectionRow"},X=w({__name:"Profile",setup(Y){const g=L(),C=z(),l=N(),c=_([]),i=_(0),m=_([{label:"my",icon:"iconmy"},{label:"like",icon:"icondianzan",number:2},{label:"favourite",icon:"iconshoucang5"}]);B(async()=>{let n=await h(l.userInfo.id,"my");console.log(n),c.value=n.data.data});async function T(n){i.value=n;let r=await h(l.userInfo.id,m.value[i.value].label);console.log(r),c.value=r.data.data}async function h(n,r){return await g({url:"/api/"+r+"/article/?id="+n,method:"GET"})}function A(){l.userLogout(),C.replace({name:"Login"})}return(n,r)=>{const k=R("el-dropdown");return a(),f("div",null,[s(F,null,{avatarAndNickname:o(()=>[s(t(d),{to:"/",class:"link",href:""},{default:o(()=>[s(v,{class:"home icon",icon:"iconzhuye3",size:30})]),_:1})]),postIcon:o(()=>[s(t(d),{to:"/postArticle",class:"link linkColor postArticle"},{default:o(()=>[s(v,{icon:"iconbianji4",size:25})]),_:1})]),dropDown:o(()=>[t(l).isLogin?(a(),u(k,{key:0},{default:o(()=>[e("a",{onClick:A,class:"link linkColor"},"退出登录")]),_:1})):(a(),f("div",J,[s(t(d),{to:"/"},{default:o(()=>[y("登录")]),_:1})]))]),_:1}),e("div",M,[e("div",U,[s(G,{size:200,src:t(l).userInfo.avatar},null,8,["src"]),e("div",null,[e("div",$,[e("h2",q,b(t(l).userInfo.name),1),s(t(d),{to:"/profileEditing",class:"flex link",href:""},{default:o(()=>[y(" 编辑个人信息")]),_:1})]),e("div",H,[e("pre",K,b(t(l).userInfo.desc||"添加你的简介....."),1)])])])]),e("div",O,[e("div",Q,[(a(!0),f(S,null,V(m.value,(I,x)=>(a(),u(v,{class:D(["icon",{active:x===i.value}]),icon:I.icon,size:40,onClick:Z=>T(x)},null,8,["icon","class","onClick"]))),256))]),e("div",W,[s(P,{name:"fade",appear:""},{default:o(()=>[i.value==0?(a(),u(p,{key:0,posts:c.value},null,8,["posts"])):i.value==1?(a(),u(p,{key:1,posts:c.value},null,8,["posts"])):i.value==2?(a(),u(p,{key:2,posts:c.value},null,8,["posts"])):E("",!0)]),_:1})])])])}}});const te=j(X,[["__scopeId","data-v-caa2b706"]]);export{te as default};
